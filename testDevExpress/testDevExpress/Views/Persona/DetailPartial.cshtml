@model IEnumerable<testDevExpress.Models.clsTelefono>
@Html.DevExpress().GridView(
    settings => {
        settings.Name = "detailGridView_" + ViewData["PersonaID"];
        settings.CallbackRouteValues = new { Controller = "Persona", Action = "DetailPartial", PersonaID = ViewData["PersonaID"] };
        settings.SettingsEditing.AddNewRowRouteValues = new { Controller = "Persona", Action = "DetailAddNewPartial", PersonaID = ViewData["PersonaID"] };
        settings.SettingsEditing.UpdateRowRouteValues = new { Controller = "Persona", Action = "DetailUpdatePartial", PersonaID = ViewData["PersonaID"] };
        settings.SettingsEditing.DeleteRowRouteValues = new { Controller = "Persona", Action = "DetailDeletePartial", PersonaID = ViewData["PersonaID"] };

        settings.CommandColumn.Visible = true;
        settings.CommandColumn.ShowNewButton = true;
        settings.CommandColumn.ShowDeleteButton = true;
        settings.CommandColumn.ShowEditButton = true;
        //settings.SettingsEditing.Mode = GridViewEditingMode.PopupEditForm;
        
        settings.KeyFieldName = "TelefonoID";
        settings.Columns.Add("Numero");
        /*settings.CellEditorInitialize = (sender, e) =>
        {
            if (e.Column.FieldName == "Numero")
            {
                MVCxGridView g = sender as MVCxGridView;
                if (g.IsNewRowEditing)
                    e.Editor.ReadOnly = false;
                else
                    e.Editor.ReadOnly = false;
            }
        };*/    
        
        settings.DataBinding = (sender, e) => {
            ((MVCxGridView)sender).ForceDataRowType(typeof(testDevExpress.Models.clsTelefono));
        };
    }).Bind(Model).GetHtml()